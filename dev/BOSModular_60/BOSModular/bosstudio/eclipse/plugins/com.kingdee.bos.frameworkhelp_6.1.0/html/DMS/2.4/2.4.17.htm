<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta name="GENERATOR" content="Microsoft&reg; HTML Help Workshop 4.1">
<Title>2.4.17</Title>
</HEAD>
<BODY>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm">超类为<SPAN lang=EN-US>EditUI，从CoreUI继承。EditUI支持实体对象的编辑，提供新增、删除、提交、暂存、作废数据、放弃作废、打印及上一条、下一条等功能。EditUI支持的实体对象必须从ObjectBase及其子类继承。</SPAN></P>
<H4 style="MARGIN: 14pt 0cm 14.5pt"><SPAN style="FONT-FAMILY: 黑体; mso-ascii-font-family: Arial">类方法介绍</SPAN></H4>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm">普通编辑类<SPAN lang=EN-US>UI从com.kingdee.eas.framework.client.EditUI继承。通过BOS Studio完成UI对象的创建、更改继承Entity对象的类型以及处理控件绑定等。</SPAN></P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm"><SPAN lang=EN-US>&nbsp;<?xml:namespace prefix = o ns = "urn:schemas-microsoft-com:office:office" /><o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm">必须重载的方法：</P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm 1pt 42pt; TEXT-INDENT: -21pt; mso-char-indent-count: 0; mso-char-indent-size: 0cm; mso-list: l15 level1 lfo15; tab-stops: list 42.0pt"><SPAN lang=EN-US>1.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 10pt; BACKGROUND: white; COLOR: #7f0055; mso-font-kerning: 0pt; mso-highlight: white">protected</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 10pt; BACKGROUND: white; mso-font-kerning: 0pt; mso-highlight: white"> <SPAN style="COLOR: black">IObjectValue</SPAN> <SPAN style="COLOR: black">createNewData()</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; COLOR: black; mso-font-kerning: 0pt">：新建业务对象，并设置初始值。</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 0cm; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN style="FONT-SIZE: 10pt; COLOR: black; mso-font-kerning: 0pt">示例：<SPAN lang=EN-US><BR>protected IObjectValue createNewData()<BR>{<BR><SPAN style="mso-spacerun: yes">&nbsp; </SPAN>CurrencyInfo info = new CurrencyInfo();<BR><SPAN style="mso-spacerun: yes">&nbsp; </SPAN><BR><SPAN style="mso-spacerun: yes">&nbsp; </SPAN>// 设定初值<BR><SPAN style="mso-spacerun: yes">&nbsp; </SPAN>info.setCreator(sysContext.getOperator());<BR><SPAN style="mso-spacerun: yes">&nbsp; </SPAN>info.setIsoCode(defaultIsoCode);<BR><SPAN style="mso-spacerun: yes">&nbsp; </SPAN>info.setSign(defaultSign);<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm; TEXT-INDENT: 10pt; mso-char-indent-count: 1.0; mso-char-indent-size: 10.0pt"><SPAN lang=EN-US style="FONT-SIZE: 10pt; COLOR: black; mso-font-kerning: 0pt">return info;<BR>}</SPAN></P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm 1pt 42pt; TEXT-INDENT: -21pt; mso-char-indent-count: 0; mso-char-indent-size: 0cm; mso-list: l15 level1 lfo15; tab-stops: list 42.0pt"><SPAN lang=EN-US>2.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 10pt; BACKGROUND: white; COLOR: #7f0055; mso-font-kerning: 0pt; mso-highlight: white">protected</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 10pt; BACKGROUND: white; mso-font-kerning: 0pt; mso-highlight: white"> <B><SPAN style="COLOR: #7f0055">abstract</SPAN></B> <SPAN style="COLOR: black">IObjectBase</SPAN> <SPAN style="COLOR: black">getBizInterface()</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; COLOR: black; mso-font-kerning: 0pt">：</SPAN><SPAN style="FONT-SIZE: 10pt; BACKGROUND: white; mso-font-kerning: 0pt; mso-highlight: white">获取实体对象的业务接口，供调用后台方法使用</SPAN><SPAN style="FONT-SIZE: 10pt; mso-font-kerning: 0pt">。</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 0cm; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN style="FONT-SIZE: 10pt; mso-bidi-font-size: 9.0pt">示例：<SPAN lang=EN-US><o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 0cm; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-bidi-font-size: 9.0pt">protected IObjectBase getBizInterface()<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 0cm; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-bidi-font-size: 9.0pt">{<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 0cm; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-bidi-font-size: 9.0pt"><SPAN style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </SPAN>return CurrencyFactory.getRemoteInstance();<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 0cm; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-bidi-font-size: 9.0pt">}<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 0cm; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm; mso-char-indent-count: 0; mso-char-indent-size: 0cm">可选的方法：</P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm 1pt 42pt; TEXT-INDENT: -21pt; mso-char-indent-count: 0; mso-char-indent-size: 0cm; mso-list: l14 level1 lfo16; tab-stops: list 42.0pt"><SPAN lang=EN-US>1.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 10pt; BACKGROUND: white; COLOR: #7f0055; mso-font-kerning: 0pt; mso-highlight: white">protected</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 10pt; BACKGROUND: white; mso-font-kerning: 0pt; mso-highlight: white"> <B><SPAN style="COLOR: #7f0055">void</SPAN></B> </SPAN><SPAN lang=EN-US>verifyInput</SPAN><SPAN lang=EN-US style="FONT-SIZE: 10pt; BACKGROUND: white; COLOR: black; mso-font-kerning: 0pt; mso-highlight: white"> () </SPAN><B><SPAN lang=EN-US style="FONT-SIZE: 10pt; BACKGROUND: white; COLOR: #7f0055; mso-font-kerning: 0pt; mso-highlight: white">throws</SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 10pt; BACKGROUND: white; mso-font-kerning: 0pt; mso-highlight: white"> <SPAN style="COLOR: black">Exception</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; COLOR: black; mso-font-kerning: 0pt">：</SPAN><SPAN style="FONT-SIZE: 10pt; mso-bidi-font-size: 9.0pt">校验输入的合法性</SPAN><SPAN style="FONT-SIZE: 10pt; mso-font-kerning: 0pt">。可以直接检查空或范围等条件，也可以调用服务端提供的校验方法。可</SPAN><SPAN style="FONT-SIZE: 10pt; mso-bidi-font-size: 9.0pt">使用<SPAN lang=EN-US>SysUtil.abort方法中断操作流程，并视情况弹出提示框及设置输入焦点。</SPAN></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 0cm; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN style="FONT-SIZE: 10pt; mso-font-kerning: 0pt">示例：<SPAN lang=EN-US><BR>protected void verifyInput() throws Exception<BR>{<BR><SPAN style="mso-spacerun: yes">&nbsp; </SPAN></SPAN></SPAN><SPAN lang=EN-US>if (isNull(txtNum.getText())) {</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-bidi-font-size: 9.0pt">MsgBox.showWarning(“编号不能为空”);</SPAN><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-font-kerning: 0pt"><BR><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="COLOR: black">txtNum.requestFocus();<BR></SPAN><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN>SysUtil.abort();<BR><SPAN style="mso-spacerun: yes">&nbsp; </SPAN>}<BR><SPAN style="mso-spacerun: yes">&nbsp; </SPAN>// 可能抛出异常但无须捕获，最外层有缺省的异常处理器<BR><SPAN style="mso-spacerun: yes">&nbsp; </SPAN>getBizInterface().checkNameDup(editData);<BR><SPAN style="mso-spacerun: yes">&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-bidi-font-size: 9.0pt">// … 其它检查代码</SPAN><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-font-kerning: 0pt"><BR>}</SPAN></P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm 1pt 42pt; TEXT-INDENT: -21pt; mso-char-indent-count: 0; mso-char-indent-size: 0cm; mso-list: l14 level1 lfo16; tab-stops: list 42.0pt"><SPAN lang=EN-US>2.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-font-kerning: 0pt">loadFields/storeFields：作用请参考前面通用设计方法的说明。</SPAN></P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm 1pt 42pt; TEXT-INDENT: -21pt; mso-char-indent-count: 0; mso-char-indent-size: 0cm; mso-list: l14 level1 lfo16; tab-stops: list 42.0pt"><SPAN lang=EN-US>3.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US>getMessageIcon()/getMessageBgcolor()/getMessageText()设置状态栏提示图标、背景色、提示文字。</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 20pt"><SPAN style="FONT-SIZE: 10pt; mso-font-kerning: 0pt">示例：<SPAN lang=EN-US><BR><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN>protected Icon getMessageIcon()<o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 20pt"><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-font-kerning: 0pt">{<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm; TEXT-INDENT: 41pt; mso-char-indent-count: 4.1; mso-char-indent-size: 10.0pt"><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-font-kerning: 0pt">return SHOW_MESSAGE_ICON_DEFAULT;<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-font-kerning: 0pt">}<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt"><SPAN lang=EN-US>protected Color getMessageBgcolor()</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt"><SPAN lang=EN-US>{</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt"><SPAN lang=EN-US><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN>return new Color(0x0F , 0x88 , 0x28);</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US>}</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt"><SPAN lang=EN-US>protected String getMessageText()</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt"><SPAN lang=EN-US>{</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm; TEXT-INDENT: 42pt; mso-char-indent-count: 4.0; mso-char-indent-size: 10.5pt"><SPAN lang=EN-US>return SHOW_MESSAGE_TEXT_OK;</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US>}</SPAN></P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 0cm; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm 1pt 42pt; TEXT-INDENT: -21pt; mso-char-indent-count: 0; mso-char-indent-size: 0cm; mso-list: l14 level1 lfo16; tab-stops: list 42.0pt"><SPAN lang=EN-US>4.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-US>showSaveSuccess/showSubmitSuccess子类可重载这些处理方式。默认情况下，如果有状态栏则使用状态栏处理，如果保存成功则绿色背景闪烁三次；否则使用消息对话框显示。</SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 20pt"><SPAN style="FONT-SIZE: 10pt; mso-font-kerning: 0pt">示例：<SPAN lang=EN-US><BR><SPAN style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </SPAN>protected void showSaveSuccess() <o:p></o:p></SPAN></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 20pt"><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-font-kerning: 0pt">{<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 20pt"><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-font-kerning: 0pt"><SPAN style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </SPAN><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN>MsgBox.ShowInfo(“success!”);<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="BACKGROUND: #e0e0e0; MARGIN: 1pt 0cm 1pt 21pt; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US style="FONT-SIZE: 10pt; mso-font-kerning: 0pt">}<o:p></o:p></SPAN></P>
<P class=MsoNormalIndent style="MARGIN: 1pt 0cm 1pt 21pt; TEXT-INDENT: 0cm; mso-char-indent-count: 0; mso-char-indent-size: 0cm"><SPAN lang=EN-US>&nbsp;<o:p></o:p></SPAN></P>
<P class=MsoNormal style="MARGIN: 0cm 0cm 0pt"><SPAN style="FONT-FAMILY: 宋体; mso-ascii-font-family: 'Times New Roman'; mso-hansi-font-family: 'Times New Roman'">常见问题</SPAN></P>

</BODY>
</HTML>
