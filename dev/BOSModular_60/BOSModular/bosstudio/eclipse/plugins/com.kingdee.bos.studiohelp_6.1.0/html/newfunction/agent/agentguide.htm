<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="agentguide.files/filelist.xml">
<link rel=Edit-Time-Data href="agentguide.files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Agent使用指南</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>lulc</o:Author>
  <o:LastAuthor>lulc</o:LastAuthor>
  <o:Revision>1</o:Revision>
  <o:TotalTime>3</o:TotalTime>
  <o:Created>2006-04-21T08:56:00Z</o:Created>
  <o:LastSaved>2006-04-21T08:59:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>253</o:Words>
  <o:Characters>1446</o:Characters>
  <o:Company>kingdee</o:Company>
  <o:Lines>12</o:Lines>
  <o:Paragraphs>3</o:Paragraphs>
  <o:CharactersWithSpaces>1696</o:CharactersWithSpaces>
  <o:Version>11.6568</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:PunctuationKerning/>
  <w:DrawingGridVerticalSpacing>7.8 磅</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:AdjustLineHeightInTable/>
   <w:SelectEntireFieldWithStartOrEnd/>
   <w:UseWord2002TableStyleRules/>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:黑体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimHei;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:"\@黑体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	font-size:10.0pt;
	font-family:宋体;
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	layout-grid-mode:line;}
h1
	{mso-style-next:正文;
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:36.0pt;
	text-indent:-36.0pt;
	line-height:12.0pt;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-list:l0 level1 lfo1;
	font-size:12.0pt;
	mso-bidi-font-size:10.0pt;
	font-family:宋体;
	mso-hansi-font-family:"Times New Roman";
	mso-font-kerning:0pt;
	layout-grid-mode:line;
	mso-bidi-font-weight:normal;}
h2
	{mso-style-parent:"标题 1";
	mso-style-next:正文;
	margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:36.0pt;
	text-indent:-36.0pt;
	line-height:12.0pt;
	mso-pagination:none;
	page-break-after:avoid;
	mso-outline-level:2;
	mso-list:l0 level2 lfo1;
	font-size:10.0pt;
	font-family:宋体;
	mso-hansi-font-family:"Times New Roman";
	layout-grid-mode:line;
	mso-bidi-font-weight:normal;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin:0cm;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	tab-stops:center 216.0pt right 432.0pt;
	font-size:10.0pt;
	font-family:宋体;
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	layout-grid-mode:line;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0cm;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	mso-pagination:none;
	tab-stops:center 216.0pt right 432.0pt;
	font-size:10.0pt;
	font-family:宋体;
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	layout-grid-mode:line;}
 /* Page Definitions */
 @page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;}
@page Section1
	{size:612.0pt 792.0pt;
	margin:72.0pt 72.0pt 72.0pt 72.0pt;
	mso-header-margin:36.0pt;
	mso-footer-margin:36.0pt;
	mso-header:url("agentguide.files/header.htm") h1;
	mso-footer:url("agentguide.files/header.htm") f1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:-5;
	mso-list-template-ids:-1;}
@list l0:level1
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l0:level2
	{mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l0:level3
	{mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l0:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l0:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l0:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l0:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l0:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
@list l0:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:0cm;
	text-indent:0cm;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:普通表格;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
</head>

<body lang=ZH-CN style='tab-interval:21.0pt;text-justify-trim:punctuation'>

<div class=Section1>

<p class=MsoNormal><a name="_Toc117392320"><span lang=EN-US style='font-size:
16.0pt;mso-bidi-font-size:10.0pt;font-family:黑体'>Agent</span></a><span
style='mso-bookmark:_Toc117392320'><span style='font-size:16.0pt;mso-bidi-font-size:
10.0pt;font-family:黑体'>使用指南</span></span></p>

<h1><span style='mso-bookmark:_Toc117392320'><![if !supportLists]><span
lang=EN-US style='mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]><span
lang=EN-US>Agent</span>功能简介</span></h1>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>Agent</span>为开发者提供了一种透明机制进行<span lang=EN-US>BO</span>对象方法的调用，开发者不用关心该方法调用是发生在服务端还是客户端，同时<span
lang=EN-US>Agent</span>机制对于大对象更新有优化处理，能够监控客户端对子对象的修改，在发生远程调用的时候对于未发生变化的子对象只传输有限的信息，降低传输的数据量，同时<span
lang=EN-US>ORM</span>能够根据<span lang=EN-US>Agent</span>纪录的变化信息在持久化层做出优化处理。</p>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h1><a name="_Toc117392321"><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]>使用方法</a></h1>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US>Agent</span>的实现需要生成相关的处理<span lang=EN-US>Agent</span>代码，在实体和界面中都有需要，下面从<span
lang=EN-US>Entity</span>和<span lang=EN-US>UI</span>两个方面分别说明具体的使用方法：</p>

<h2><a name="_Toc117392322"><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.1<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]>在<span
lang=EN-US>Entity</span>中应用<span lang=EN-US>Agent:</span></a></h2>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'>在定义完<span
lang=EN-US>Entity</span>的元数据后，在发布代码的时候可以选择是否发布相应的<span lang=EN-US>Agent</span>代码，这是在应用中使用<span
lang=EN-US>Agent</span>机制的前提，具体步骤，参见下面的图示：</p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><!--[if gte vml 1]><v:shapetype id="_x0000_t75" coordsize="21600,21600"
 o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f"
 stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:369pt;
 height:284.25pt'>
 <v:imagedata src="agentguide.files/image001.jpg" o:title="issue"/>
</v:shape><![endif]--><![if !vml]><img width=492 height=379
src="agentguide.files/image002.jpg" v:shapes="_x0000_i1025"><![endif]></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'>如果需要使用<span
lang=EN-US>Agent</span>模式，则选中图中所示的是否以<span lang=EN-US>Agent</span>方式发布的选择框，同时可以通过选择右边的是否追加到配置文件的选择框来将生成<span
lang=EN-US>Agent</span>的这种方式应用到日构建环境中，所以在本地进行测试的阶段并不需要选中这个选项。</p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h2><a name="_Toc117392323"><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>2.2<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]>在<span
lang=EN-US>UI</span>中应用<span lang=EN-US>Agent:</span></a></h2>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'>在<span
lang=EN-US>UI</span>元数据定义完后，在代码发布的时候选择是否在界面应用<span lang=EN-US>Agent</span>机制，这会导致生成的<span
lang=EN-US>UI</span>代码中包含对<span lang=EN-US>Agent</span>的一些处理，具体步骤，参见下面的图示：</p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><!--[if gte vml 1]><v:shape id="_x0000_i1026" type="#_x0000_t75"
 style='width:369pt;height:251.25pt'>
 <v:imagedata src="agentguide.files/image001.jpg" o:title="issue"/>
</v:shape><![endif]--><![if !vml]><img width=492 height=335
src="agentguide.files/image003.jpg" v:shapes="_x0000_i1026"><![endif]></span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'>在使用<span
lang=EN-US>Agent</span>机制的界面中，需要注意的是，在类似<span lang=EN-US>createNewDetailData</span>、<span
lang=EN-US> createNewData</span>方法中，需要修改实现，以前是直接实例化一个<span lang=EN-US>Info</span>对象返回，现在需要创建该<span
lang=EN-US>Info</span>对象对应的<span lang=EN-US>Agent</span>类来实现，代码实例如下：</p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US>protected IObjectValue createNewData() {</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>try{</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>MyBillInfo result = MyBillAgent.create();</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>result.setHasEffected(false);</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>result.setIsClosed(false);</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>result.getEntries();</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>return result;</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>}catch(BOSException e){</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>e.printStackTrace();</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>return null;</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'><span
lang=EN-US><span style='mso-tab-count:1'> </span>}</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:15.0pt'>总是原来<span
lang=EN-US>UI</span>中使用<span lang=EN-US>XXXInfo</span>对象的代码，都要改为使用<span
lang=EN-US>Agent</span>做为值对象才能将<span lang=EN-US>Agent</span>的机制应用到系统中，获得对于大对象更新传输的性能优化。</p>

<h1><![if !supportLists]><span lang=EN-US style='mso-bidi-font-family:宋体'><span
style='mso-list:Ignore'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]>日构建配置文件</h1>

<p class=MsoNormal style='margin-left:21.0pt'>在上面两步的发布过程中，都有是否追加到配置文件的选项，该选项用于控制是否在日构建阶段也采用生成<span
lang=EN-US>Agent</span>模式的方式发布元数据，因此需要将该配置文件提交到<span lang=EN-US>cvs</span>中，该配置文件的位置在</p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>$</span>工作区目录<span
lang=EN-US>\$</span>元数据工程<span lang=EN-US>\DeployAgent.xml</span>。</p>

<p class=MsoNormal style='margin-left:21.0pt'>同时该文件可以在<span lang=EN-US>Bos
Studio</span>中单独修改，以控制生成<span lang=EN-US>Agent</span>元数据的选择，参见下面的步骤：</p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>1</span>）选择图中圈中的按钮，可弹出<span
lang=EN-US>Agent</span>生成配置文件的修改界面</p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><!--[if gte vml 1]><v:shape
 id="_x0000_i1027" type="#_x0000_t75" style='width:447pt;height:270.75pt'>
 <v:imagedata src="agentguide.files/image004.jpg" o:title="config"/>
</v:shape><![endif]--><![if !vml]><img width=596 height=361
src="agentguide.files/image005.jpg" v:shapes="_x0000_i1027"><![endif]></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>2</span>）在弹出界面的列表中可以对哪些元数据按<span
lang=EN-US>Agent</span>模式生成进行配置</p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><!--[if gte vml 1]><v:shape
 id="_x0000_i1028" type="#_x0000_t75" style='width:420pt;height:341.25pt'>
 <v:imagedata src="agentguide.files/image006.jpg" o:title="config2"/>
</v:shape><![endif]--><![if !vml]><img width=560 height=455
src="agentguide.files/image007.jpg" v:shapes="_x0000_i1028"><![endif]></span></p>

<h1><a name="_Toc117392324"><![if !supportLists]><span lang=EN-US
style='mso-bidi-font-family:宋体'><span style='mso-list:Ignore'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><![endif]>应用中需要注意的问题</a></h1>

<p class=MsoNormal style='margin-left:21.0pt'>因为<span lang=EN-US>Agent</span>代理了<span
lang=EN-US>Entity</span>生成的<span lang=EN-US>BO</span>对象的方法，屏蔽了远程和本地调用的区分，在编程模型上带来方便的同时，在应用上也需要注意一些问题避免副作用的产生，举例如下：</p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>class XXXBo
extends CoreBaseData {</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>public void xxxxMehtod1(){</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span>业务处理<span
lang=EN-US>1</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:"Times New Roman";mso-ascii-font-family:宋体'>……</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span>public void xxxxMethod2(){</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span>业务处理<span
lang=EN-US>2</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><span
style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-family:"Times New Roman";mso-ascii-font-family:宋体'>……</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt'><span
lang=EN-US>}</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>}</span></p>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp; </span></span>那么对应的<span
lang=EN-US>Agent</span>对象中代理了这两个方法，在客户端调用的时候，要考虑是否这两个方法需要放在一个事务调用，如果是的话，就不能够直接在客户端两次调用<span
lang=EN-US>Agent</span>代理的方法，因为在客户端，<span lang=EN-US>Agent</span>代理的每一个方法，都是两次远程调用，按目前的实现模型，不能保证在一个完整的事务中。</p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

</div>

</body>

</html>
